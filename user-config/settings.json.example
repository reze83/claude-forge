{
  "$schema": "https://json.schemastore.org/claude-code-settings.json",
  "respectGitignore": true,
  "env": {
    "BASH_DEFAULT_TIMEOUT_MS": "120000",
    "BASH_MAX_TIMEOUT_MS": "600000",
    "CLAUDE_CODE_TMPDIR": "/tmp/claude-code",
    "CLAUDE_AUTOCOMPACT_PCT_OVERRIDE": "85",
    "ENABLE_TOOL_SEARCH": "auto:5"
  },
  "attribution": {
    "commits": true,
    "pullRequests": true
  },
  "permissions": {
    "allow": [
      "Glob", "Grep", "Task",
      "Bash(git status)", "Bash(git diff *)", "Bash(git log *)",
      "Bash(git branch *)", "Bash(git checkout *)", "Bash(git add *)",
      "Bash(git commit *)", "Bash(git stash *)", "Bash(git fetch *)",
      "Bash(git pull *)",
      "Bash(ls *)", "Bash(cat *)", "Bash(head *)", "Bash(tail *)",
      "Bash(find *)", "Bash(wc *)", "Bash(sort *)", "Bash(uniq *)",
      "Bash(diff *)", "Bash(mkdir *)", "Bash(cp *)", "Bash(mv *)",
      "Bash(touch *)", "Bash(chmod *)", "Bash(echo *)", "Bash(pwd)",
      "Bash(which *)", "Bash(node *)", "Bash(npm run *)",
      "Bash(npm test *)", "Bash(npm install *)", "Bash(npx *)",
      "Bash(python *)", "Bash(pip *)", "Bash(cargo *)",
      "Bash(make *)", "Bash(jq *)", "Bash(sed *)", "Bash(awk *)",
      "Bash(tee *)",
      "WebSearch", "Read", "Write", "Edit"
    ],
    "deny": [
      "Bash(curl *)", "Bash(wget *)"
    ],
    "ask": [
      "Bash(git push *)", "Bash(git merge *)",
      "Bash(git rebase *)", "Bash(git reset *)",
      "Bash(rm *)", "Bash(sudo *)",
      "Bash(docker *)", "Bash(docker-compose *)",
      "WebFetch"
    ]
  },
  "sandbox": {
    "enabled": true,
    "network": {
      "allowedDomains": [
        "api.anthropic.com", "github.com", "api.github.com",
        "registry.npmjs.org", "pypi.org"
      ]
    }
  },
  "showTurnDuration": true,
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Bash",
        "hooks": [{
          "type": "command",
          "command": "bash $HOME/.claude/hooks/bash-firewall.sh",
          "timeout": 10,
          "statusMessage": "Checking bash command safety..."
        }]
      },
      {
        "matcher": "Read|Write|Edit|Glob|Grep",
        "hooks": [{
          "type": "command",
          "command": "bash $HOME/.claude/hooks/protect-files.sh",
          "timeout": 10,
          "statusMessage": "Checking file access..."
        }]
      },
      {
        "matcher": "Write|Edit",
        "hooks": [{
          "type": "command",
          "command": "bash $HOME/.claude/hooks/secret-scan-pre.sh",
          "timeout": 10,
          "statusMessage": "Scanning for secrets..."
        }]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Edit|Write",
        "hooks": [{
          "type": "command",
          "command": "bash $HOME/.claude/hooks/auto-format.sh",
          "timeout": 30,
          "async": true,
          "statusMessage": "Formatting code..."
        }]
      },
      {
        "matcher": "Edit|Write",
        "hooks": [{
          "type": "command",
          "command": "bash $HOME/.claude/hooks/secret-scan.sh",
          "timeout": 10,
          "statusMessage": "Post-write secret scan..."
        }]
      }
    ],
    "SessionStart": [
      {
        "matcher": "",
        "hooks": [{
          "type": "command",
          "command": "bash $HOME/.claude/hooks/session-start.sh",
          "timeout": 10,
          "statusMessage": "Initializing session..."
        }]
      }
    ],
    "PostToolUseFailure": [
      {
        "matcher": "",
        "hooks": [{
          "type": "command",
          "command": "bash $HOME/.claude/hooks/post-failure.sh",
          "timeout": 10,
          "statusMessage": "Logging tool failure..."
        }]
      }
    ],
    "PreCompact": [
      {
        "matcher": "",
        "hooks": [{
          "type": "command",
          "command": "bash $HOME/.claude/hooks/pre-compact.sh",
          "timeout": 10,
          "statusMessage": "Preparing compaction..."
        }]
      }
    ],
    "TaskCompleted": [
      {
        "hooks": [{
          "type": "command",
          "command": "bash $HOME/.claude/hooks/task-gate.sh",
          "timeout": 60,
          "statusMessage": "Running task quality gate..."
        }]
      }
    ],
    "TeammateIdle": [
      {
        "hooks": [{
          "type": "command",
          "command": "bash $HOME/.claude/hooks/teammate-gate.sh",
          "timeout": 10,
          "statusMessage": "Checking teammate readiness..."
        }]
      }
    ],
    "SessionEnd": [
      {
        "matcher": "",
        "hooks": [{
          "type": "command",
          "command": "bash $HOME/.claude/hooks/session-logger.sh",
          "timeout": 15,
          "statusMessage": "Logging session..."
        }]
      }
    ]
  }
}
